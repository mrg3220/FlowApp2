# ──────────────────────────────────────────────────────────
# FlowApp2 Environment Configuration
# ──────────────────────────────────────────────────────────
# Copy this file to .env and fill in production values.
# NEVER commit .env to version control.
#
# All values below are REQUIRED unless marked (optional).
# ──────────────────────────────────────────────────────────

# ─── PostgreSQL Database ─────────────────────────────────
# Credentials for the PostgreSQL container. Must match
# between POSTGRES_* vars and the DATABASE_URL connection string.
POSTGRES_DB=flowapp
POSTGRES_USER=flowapp_user
POSTGRES_PASSWORD=CHANGE_ME_use_strong_random_password

# ─── Database Connection URL ─────────────────────────────
# Used by Prisma to connect. Format:
#   postgresql://<user>:<password>@<host>:<port>/<db>?schema=public
# In Docker Compose, the hostname is the service name "db".
DATABASE_URL=postgresql://flowapp_user:CHANGE_ME_use_strong_random_password@db:5432/flowapp?schema=public

# ─── JWT Authentication ──────────────────────────────────
# Secret key for signing JSON Web Tokens. MUST be a long,
# random string (min 64 chars). Generate with:
#   node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CHANGE_ME_generate_with_crypto_randomBytes_64
# Token lifetime. Shorter = more secure, longer = better UX.
# Recommended: 1h–4h for production, 7d for development.
JWT_EXPIRES_IN=4h

# ─── Server ──────────────────────────────────────────────
PORT=3001
NODE_ENV=production

# ─── CORS ────────────────────────────────────────────────
# Comma-separated list of allowed origins for CORS requests.
# In Docker, the client Nginx proxy forwards requests, so
# set this to the public-facing URL of your frontend.
CORS_ORIGIN=http://localhost:3000

# ─── OpenAI (optional) ──────────────────────────────────
# If set, the AI Chat feature in the Help Center will use
# the OpenAI API. If unset, falls back to article matching.
# OPENAI_API_KEY=sk-...
